{"version":3,"sources":["components/Navbar/NavbarElements.js","assets/complex-logo.png","components/Navbar/index.js","pages/landing.js","pages/about.js","pages/learn.js","pages/contact.js","pages/create.js","pages/gallery.js","pages/browse.js","pages/create-swan.js","assets/paper.PNG","components/Vase/index.js","models/VaseStore.js","models/ColoringForm.js","models/RootStore.js","models/RootStoreContext.js","pages/create-vase.js","pages/create-basket.js","pages/create-figurine.js","components/ResultVase/index.js","pages/result.js","pages/index.js","components/Pixel/index.js","components/SpecialPixel/index.js","components/Row/index.js","components/SpecialRow/index.js","components/DrawingSection/index.js","components/OrigamiObject/index.js","pages/colouring.js","components/App.jsx","index.js"],"names":["Nav","styled","nav","NavLink","Link","PlainLink","NavMenu","FaBars","div","NavBtn","NavBtnLink","Navbar","to","style","height","margin","float","src","logo","alt","letterSpacing","marginRight","color","Landing","display","justifyContent","alignItems","About","Learn","Contact","Create","background","flexDirection","fontSize","href","Gallery","Browse","CreateSwan","width","observer","props","vase","texture","useMemo","THREE","load","grid","s_dtop_h","scale_h","s_dbottom_h","scale_factor","s_dtop","dtop","s_dbottom","dbottom","s_d1","d1","s_d1_h","d1_h","s_d2","d2","s_d2_h","d2_h","s_d3","d3","s_d3_h","d3_h","top_rim_mesh","bottom_rim_mesh","bottom_disk_mesh","getInputMarker","rad","position","args","Math","PI","dtop_marker","top_rim","dbottom_marker","bottom_rim","d1_marker","d2_marker","d3_marker","rotation","points","updateCurvedPts","useState","x_rot","changeXrot","y_rot","changeYrot","z_rot","changeZrot","dist","changeDist","bottom_disk","map","handleKeyDown","event","key","max","min","preventDefault","React","useEffect","window","addEventListener","removeEventListener","side","specular","shininess","getCurvePointsNew","_pts","tension","numOfSegments","x","y","t1x","t2x","t1y","t2y","c1","c2","c3","c4","st","t","i","res","first_x","first_y","last_x","last_y","unshift","push","length","pow","VaseStore","types","model","cm","dtop_h","dbottom_h","textures","optional","array","string","actions","self","update_top_rim","update_bottom_rim","update_bottom_disk","update_units","units","update_height","update_dtop","update_d3","update_d2","update_d1","update_dbottom","update_d_heights","vals","storePic","picData","sectionNum","broken","myPoints","new_pts","h","r","broken_pts","broken_pts_three","lo","hi","temp","slice","j","views","DEFAULT_PNG","fileName","type","html2CanvasOptions","ColoringForm","selectedColor","defaultColor","oldDefault","clear","mode","maxWidth","makeTexture","vaseTextureStore","vaseDimensions","number","canvasPic","getDimensions","setColor","col","setDefaultColor","clearAll","unsetClear","setMode","val","setMakeTexture","exportComponent","node","current","Error","element","ReactDOM","findDOMNode","html2canvas","scrollY","useCORS","imageTimeout","backgroundColor","then","canvas","toDataURL","RootStore","vaseStore","coloringFormStore","RootStoreContext","createContext","RootStoreProvider","Provider","useStores","useContext","sliderStyle","railStyle","borderRadius","Handle","handle","id","value","percent","getHandleProps","className","left","marginLeft","marginTop","zIndex","textAlign","cursor","fontFamily","MultiHandle","sliderHeight","rootStyle","domain","step","values","onUpdate","getRailProps","handles","slider_dtop","slider_d3","slider_d2","slider_d1","slider_dbottom","dSlider","options","label","selectedBackgroundColor","top_rim_switch","onChange","initialSelectedIndex","fontColor","optionBorderRadius","bottom_rim_switch","bottom_disk_switch","units_switch","camera","fov","aspect","near","far","intensity","overflow","marginBottom","CreateBasket","CreateFigurine","refTop","useRef","refTop2","ref2","ref22","ref1","ref12","refBot","refBot2","topPts","pts2","pts1","bottomPts","topVase","ref","pts2Vase","pts1Vase","bottomVase","canvasRef","context","getContext","topPic","Image","onload","px_size","half_px_width","drawImage","end_idx","imgData","getImageData","ceil","putImageData","Home","path","component","CreateVase","Result","formObject","pixelColor","setPixelColor","oldColor","setOldColor","canChangeColor","setCanChangeColor","applyColor","onClick","onMouseEnter","onMouseLeave","onMouseOver","borderColor","substring","parseInt","borderWidth","SpecialPixel","on","num","markerNum","displayRowNum","rounded","paddingLeft","paddingRight","offset","pixels","SpecialRow","specialTop","specialBottom","my_dict","count","increasing","panelRef","rows","dimensions","objectRef","sTopCurr","sBottomCurr","curr","diff","distribute","remainder","spacing","0","1","2","floor","spacing_arr","Array","fill","idx","last_idx","console","log","sections","showInfo","setShowInfo","showPicker","setShowPicker","showPickerDefault","setShowPickerDefault","colorPaletteIdx","setColorIdx","dColorPaletteIdx","setDColorIdx","colorPalette","setColorPalette","dColorPalette","setDColorPalette","diagramRef","myDimensions","absolute","myHeight","colorPicker","colors","triangle","onChangeComplete","hex","search","toString","toUpperCase","includes","new_palette","defaultColorPicker","paintByPixel","sprayPaint","logoObject","exportComponentAsPNG","backButton","size","nextButton","delay","clickAction","replace","info","innerZ","overflowX","overflowY","rootStore","create","App","Component","render","document","getElementById"],"mappings":"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","file":"static/js/main.5d23232b.chunk.js","sourcesContent":["import { FaBars } from 'react-icons/fa';\r\nimport { NavLink as Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nexport const Nav = styled.nav`\r\n  background: #D14240;\r\n  height: 80px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  // padding: 0.5rem calc((100vw - 4000px) / 2);\r\n  padding: 0.5rem;\r\n  z-index: 10;\r\n  border-radius: 30px 30px 30px 30px;\r\n\r\n  /* Third Nav */\r\n  /* justify-content: flex-start; */\r\n`;\r\n\r\nexport const NavLink = styled(Link)`\r\n  color: #fff;\r\n  display: flex;\r\n  align-items: center;\r\n  text-decoration: none;\r\n  padding: 0 1rem;\r\n  // height: 70%;\r\n  cursor: pointer;\r\n  border-radius: 30px;\r\n  margin: 5px;\r\n  border-style: solid; \r\n  border-color: #D14240;\r\n\r\n  &:hover {\r\n    // transition: all 0.2s ease-in-out;\r\n    background: #FFE7EC;\r\n    color: red;\r\n    // height: 100%;\r\n    border-style: solid;\r\n    border-color: #FFE7EC;\r\n  }\r\n\r\n  &.active {\r\n    color: red;\r\n    background: #FFE7EC;\r\n    // height: 100%;\r\n    border-radius: 40px;\r\n    border-style: solid;\r\n    border-color: #FFE7EC;\r\n  }\r\n`;\r\n\r\nexport const PlainLink = styled(Link)`\r\n  text-decoration:none;\r\n`;\r\n\r\nexport const Bars = styled(FaBars)`\r\n  display: none;\r\n  color: #fff;\r\n\r\n  @media screen and (max-width: 768px) {\r\n    display: block;\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    transform: translate(-100%, 75%);\r\n    font-size: 1.8rem;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport const NavMenu = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-right: -24px;\r\n\r\n  /* Second Nav */\r\n  /* margin-right: 24px; */\r\n\r\n  /* Third Nav */\r\n  /* width: 100vw;\r\n  white-space: nowrap; */\r\n\r\n  @media screen and (max-width: 768px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nexport const NavBtn = styled.nav`\r\n  display: flex;\r\n  align-items: center;\r\n  \r\n  // margin-right: 24px;\r\n\r\n  /* Third Nav */\r\n  /* justify-content: flex-end;\r\n  width: 80vw; */\r\n\r\n  @media screen and (max-width: 768px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nexport const NavBtnLink = styled(Link)`\r\n  border-radius: 30px;\r\n  background: #256ce1;\r\n  // padding: 10px 22px;\r\n  color: #fff;\r\n  outline: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease-in-out;\r\n  text-decoration: none;\r\n  width: 80px;\r\n  height: 50px;\r\n\r\n\r\n  /* Second Nav */\r\n  // margin-left: 24px;\r\n\r\n  &:hover {\r\n    transition: all 0.2s ease-in-out;\r\n    background: #fff;\r\n    color: #D14240;\r\n  }\r\n`;\r\n","export default __webpack_public_path__ + \"static/media/complex-logo.268ab665.png\";","import React from 'react';\r\nimport {\r\n  Nav,\r\n  NavLink,\r\n  Bars,\r\n  NavMenu,\r\n  NavBtn,\r\n  NavBtnLink, \r\n  PlainLink\r\n} from './NavbarElements';\r\nimport logo from \"../../assets/complex-logo.png\"\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <>\r\n      <Nav>\r\n        <PlainLink to='/'><img style={{height: 60, margin: 20, float: 'left'}}src={logo} alt='logo' /></PlainLink>\r\n        <PlainLink to='/'>\r\n          <p style ={{letterSpacing: 3, marginRight: 100, color:\"white\", float: 'left'}}>3d-o</p>\r\n        </PlainLink>\r\n        {/* <Bars /> */}\r\n        <NavMenu>\r\n          <NavLink to='/about'>\r\n            <p style ={{letterSpacing: 2}}>about</p>\r\n          </NavLink>\r\n          <NavLink to='/learn' >\r\n            <p style ={{letterSpacing: 2}}>learn</p>\r\n          </NavLink>\r\n          <NavLink to='/create'>\r\n            <p style ={{letterSpacing: 2}}>create</p>\r\n          </NavLink>\r\n          <NavLink to='/browse'>\r\n            <p style ={{letterSpacing: 2}}>browse</p>\r\n          </NavLink>\r\n          <NavLink to='/gallery'>\r\n            <p style ={{letterSpacing: 2}}>gallery</p>\r\n          </NavLink>\r\n          <NavLink to='/contact'>\r\n            <p style ={{letterSpacing: 2}}>contact</p>\r\n          </NavLink>\r\n          {/* Second Nav */}\r\n          {/* <NavBtnLink to='/sign-in'>Sign In</NavBtnLink> */}\r\n        </NavMenu>\r\n        {/* <NavBtn>\r\n          <NavBtnLink to='/signin'>Sign In</NavBtnLink>\r\n        </NavBtn> */}\r\n      </Nav>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\n\r\nconst Landing = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        height: '90vh'\r\n      }}\r\n    >\r\n      <h1>Landing</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Landing;","import React from 'react';\r\n\r\nconst About = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        height: '90vh'\r\n      }}\r\n    >\r\n      <h1>About</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default About;\r\n","import React from 'react';\r\n\r\nconst Learn = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        height: '90vh'\r\n      }}\r\n    >\r\n      <h1>Learn</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Learn;","import React from 'react';\r\n\r\nconst Contact = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        height: '90vh'\r\n      }}\r\n    >\r\n      <h1>Contact Us</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Contact;\r\n","import React from 'react';\r\n\r\nconst Create = () => {\r\n  return (\r\n    <div>\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          // alignItems: 'center',\r\n          height: '25vh',\r\n          background: '#bab', \r\n          margin: '30px'\r\n        }}\r\n      >\r\n        <h1>I want to make a ... </h1>\r\n      </div>\r\n      <div \r\n        style={{\r\n          flexDirection: 'row',\r\n          height: '25vh'\r\n        }}\r\n      >\r\n        <a style={{background: '#bfb', fontSize: '30px', margin: '30px'}} href=\"/create-swan\"> Swan </a>\r\n        <a style={{background: '#bcb', fontSize: '30px', margin: '30px'}} href=\"/create-vase\"> Vase </a>\r\n        <a style={{background: '#bdb', fontSize: '30px', margin: '30px'}} href=\"/create-basket\"> Basket </a>\r\n        <a style={{background: '#beb', fontSize: '30px', margin: '30px'}} href=\"/create-figurine\"> Figurine </a>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Create;","import React from 'react';\r\n\r\nconst Gallery = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        height: '90vh'\r\n      }}\r\n    >\r\n      <h1>Gallery</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Gallery;","import React from 'react';\r\n\r\nconst Browse = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        height: '90vh'\r\n      }}\r\n    >\r\n      <h1>Browse</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Browse;","import React from 'react';\r\nimport {\r\n  NavBtn,\r\n  NavBtnLink\r\n} from '../components/Navbar/NavbarElements';\r\n\r\nconst CreateSwan = () => {\r\n  return (\r\n    <>\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n          height: '15vh',\r\n          background: '#caa'\r\n        }}\r\n      >\r\n        <h1>Swan</h1>\r\n      </div>\r\n      <div style={{display: 'flex', flexDirection:'row', width: 'auto', height: '90vh'}}>\r\n        <div style={{background: '#baa', width: '57%', height: 'auto'}}>\r\n          <h1>Canvas</h1>\r\n        </div>\r\n        <div style={{background: '#daa', width: '43%', height: 'auto'}}>\r\n          <h1>Input</h1>\r\n          <NavBtn>\r\n            <NavBtnLink to='/colouring'>Done</NavBtnLink>\r\n          </NavBtn>\r\n        </div>\r\n      </div>\r\n  </>  \r\n  );\r\n};\r\n\r\nexport default CreateSwan;","export default __webpack_public_path__ + \"static/media/paper.2a44f726.PNG\";","import React, { useRef, useState, useMemo, useEffect} from \"react\";\r\nimport {useFrame} from \"react-three-fiber\";\r\nimport { observer } from \"mobx-react\";\r\nimport * as THREE from \"three\";\r\nimport grid from \"../../assets/paper.PNG\";\r\n\r\nconst Vase = (props) => {\r\n    const {vase} = props\r\n    // const mesh = useRef();\r\n    const texture = useMemo(() => new THREE.TextureLoader().load(grid), []);\r\n    // texture.wrapS = THREE.MirroredRepeatWrapping;\r\n    // texture.wrapT = THREE.MirroredRepeatWrapping;\r\n    // texture.repeat.set(2, 2.6);\r\n\r\n    const s_dtop_h = vase.scale_h/2\r\n    const s_dbottom_h = -1 * s_dtop_h\r\n    const scale_factor = vase.scale_h/vase.height\r\n\r\n    const s_dtop = vase.dtop * scale_factor\r\n    const s_dbottom = vase.dbottom * scale_factor\r\n\r\n    const s_d1 = vase.d1 * scale_factor\r\n    const s_d1_h = (vase.d1_h/100) * vase.scale_h - s_dtop_h\r\n\r\n    const s_d2 = vase.d2 * scale_factor\r\n    const s_d2_h = (vase.d2_h/100) * vase.scale_h - s_dtop_h\r\n\r\n    const s_d3 = vase.d3 * scale_factor\r\n    const s_d3_h = (vase.d3_h/100) * vase.scale_h - s_dtop_h\r\n\r\n    let top_rim_mesh = <mesh/>\r\n    let bottom_rim_mesh = <mesh />\r\n    let bottom_disk_mesh = <mesh />\r\n\r\n    function getInputMarker(rad, height){\r\n        return (\r\n            <mesh position = {[0,height,0]}>\r\n                <cylinderGeometry args={[rad, rad, 0.25, 40, 1, true,0, Math.PI * 2]}/>\r\n                <meshPhongMaterial color=\"red\" />\r\n            </mesh>\r\n        )\r\n    }\r\n\r\n    const dtop_marker = vase.top_rim ? getInputMarker((s_dtop/2) + 0.6, s_dtop_h) : getInputMarker((s_dtop/2) + 0.1, s_dtop_h) \r\n    const dbottom_marker = vase.bottom_rim ? getInputMarker((s_dbottom/2) + 0.6, s_dbottom_h) : getInputMarker((s_dbottom/2) + 0.1, s_dbottom_h)\r\n    const d1_marker = getInputMarker((s_d1/2) + 0.1, s_d1_h)\r\n    const d2_marker = getInputMarker((s_d2/2) + 0.1, s_d2_h)\r\n    const d3_marker = getInputMarker((s_d3/2) + 0.1, s_d3_h)\r\n\r\n    if (vase.top_rim){\r\n        top_rim_mesh = <mesh position = {[0,s_dtop_h+0.1,0]} rotation = {[1.57,0,0]}> \r\n        <torusGeometry args={[(s_dtop/2)+0.1,0.4,10,50]}/>\r\n        <meshPhongMaterial color=\"#FF7E98\" />\r\n        </mesh>\r\n    }\r\n    if (vase.bottom_rim){\r\n        bottom_rim_mesh = <mesh position = {[0,s_dbottom_h-0.1,0]} rotation = {[1.57,0,0]}> \r\n        <torusGeometry args={[(s_dbottom/2)+0.1, 0.4, 10, 50]}/>\r\n        <meshPhongMaterial color=\"#FF7E98\" />\r\n        </mesh>\r\n    }\r\n\r\n    const points = vase.updateCurvedPts()\r\n\r\n    let [x_rot,changeXrot] = useState(0);\r\n    let [y_rot,changeYrot] = useState(0);\r\n    let [z_rot,changeZrot] = useState(0);\r\n    let [dist,changeDist] = useState(0);\r\n\r\n    if (vase.bottom_disk){\r\n        bottom_disk_mesh = <mesh position = {[0,s_dbottom_h,0]}>\r\n            <cylinderGeometry args={[s_dbottom/2, s_dbottom/2, 0.8, 32]}/>\r\n            <meshPhongMaterial color=\"pink\" map={texture} />\r\n        </mesh>\r\n    }\r\n\r\n    const handleKeyDown = (event) => {\r\n        switch(event.key)\r\n        {\r\n            case \"x\":\r\n                    x_rot = x_rot + 0.1\r\n                    changeXrot(x_rot);\r\n                    break;\r\n            case \"y\": \r\n                    y_rot = y_rot + 0.1\r\n                    changeYrot(y_rot);\r\n                    break;\r\n            case \"z\": \r\n                    z_rot = z_rot + 0.1\r\n                    changeZrot(z_rot);\r\n                    break;\r\n            case \"w\": \r\n                    dist = Math.max(dist - 5,-550)\r\n                    changeDist(dist)\r\n                    break;\r\n            case \"q\": \r\n                    dist = Math.min(dist + 5,40)\r\n                    changeDist(dist)\r\n                    break;\r\n            case \" \": \r\n                    event.preventDefault()\r\n                    x_rot = 0\r\n                    y_rot = 0\r\n                    z_rot = 0 \r\n                    dist = 0\r\n                    changeXrot(x_rot)\r\n                    changeYrot(y_rot)\r\n                    changeZrot(z_rot)\r\n                    changeDist(dist)\r\n            default: \r\n                    break;\r\n        }\r\n    };\r\n    \r\n    React.useEffect(() => {\r\n        window.addEventListener('keydown', handleKeyDown);\r\n\r\n        // cleanup this component\r\n        return () => {\r\n            window.removeEventListener('keydown', handleKeyDown);\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <group position={[0,0,dist]} rotation={[x_rot,y_rot,z_rot]}> \r\n            <mesh >\r\n                <latheGeometry args={[points, 30, 0, 2*Math.PI]}/>\r\n                <meshPhongMaterial map = {texture} color=\"pink\" side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>\r\n            </mesh>\r\n            <mesh>\r\n                <latheGeometry args={[points, 30, 0, 2*Math.PI]}/>\r\n                <meshPhongMaterial map = {texture} color=\"pink\" side = {THREE.BackSide} />\r\n            </mesh>\r\n            {vase.top_rim && top_rim_mesh}\r\n            {vase.bottom_rim && bottom_rim_mesh}\r\n            {vase.bottom_disk && bottom_disk_mesh}\r\n            {dbottom_marker}\r\n            {d1_marker}\r\n            {d2_marker}\r\n            {d3_marker}\r\n            {dtop_marker}\r\n        </group>\r\n    )\r\n  }\r\n\r\nexport default observer(Vase);","import { types } from \"mobx-state-tree\";\r\nimport * as THREE from \"three\";\r\nimport React from \"react\"\r\n\r\nfunction getCurvePointsNew(_pts, tension, numOfSegments) {\r\n\r\n    var res = [],    // clone array\r\n        x, y,           // our x,y coords\r\n        t1x, t2x, t1y, t2y, // tension vectors\r\n        c1, c2, c3, c4,     // cardinal points\r\n        st, t, i;       // steps based on num. of segments\r\n\r\n    const first_x = _pts[0]\r\n    const first_y = _pts[1]\r\n    const last_x = _pts[8]\r\n    const last_y = _pts[9]\r\n\r\n    _pts.unshift(first_y)\r\n    _pts.unshift(first_x)\r\n    _pts.push(last_x)\r\n    _pts.push(last_y)\r\n\r\n    for (i=2; i < (_pts.length - 4); i+=2) {\r\n        for (t=0; t <= numOfSegments; t++) {\r\n\r\n            // calc tension vectors\r\n            t1x = (_pts[i+2] - _pts[i-2]) * tension;\r\n            t2x = (_pts[i+4] - _pts[i]) * tension;\r\n\r\n            t1y = (_pts[i+3] - _pts[i-1]) * tension;\r\n            t2y = (_pts[i+5] - _pts[i+1]) * tension;\r\n\r\n            // calc step\r\n            st = t / numOfSegments;\r\n\r\n            // calc cardinals\r\n            c1 =   2 * Math.pow(st, 3)  - 3 * Math.pow(st, 2) + 1; \r\n            c2 = -(2 * Math.pow(st, 3)) + 3 * Math.pow(st, 2); \r\n            c3 =       Math.pow(st, 3)  - 2 * Math.pow(st, 2) + st; \r\n            c4 =       Math.pow(st, 3)  -     Math.pow(st, 2);\r\n\r\n            // calc x and y cords with common control vectors\r\n            x = c1 * _pts[i]    + c2 * _pts[i+2] + c3 * t1x + c4 * t2x;\r\n            y = c1 * _pts[i+1]  + c2 * _pts[i+3] + c3 * t1y + c4 * t2y;\r\n\r\n            //store points in array\r\n            res.push(x);\r\n            res.push(y);\r\n\r\n        }\r\n    }\r\n    return res;\r\n}\r\n\r\nfunction getCurvePoints(pts, tension, isClosed, numOfSegments) {\r\n\r\n    // use input value if provided, or use a default value   \r\n    tension = (typeof tension != 'undefined') ? tension : 0.5;\r\n    isClosed = isClosed ? isClosed : false;\r\n    numOfSegments = numOfSegments ? numOfSegments : 16;\r\n\r\n    var _pts = [], res = [],    // clone array\r\n        x, y,           // our x,y coords\r\n        t1x, t2x, t1y, t2y, // tension vectors\r\n        c1, c2, c3, c4,     // cardinal points\r\n        st, t, i;       // steps based on num. of segments\r\n\r\n    // clone array so we don't change the original\r\n    //\r\n    _pts = pts.slice(0);\r\n\r\n    // The algorithm require a previous and next point to the actual point array.\r\n    // Check if we will draw closed or open curve.\r\n    // If closed, copy end points to beginning and first points to end\r\n    // If open, duplicate first points to befinning, end points to end\r\n    if (isClosed) {\r\n        _pts.unshift(pts[pts.length - 1]);\r\n        _pts.unshift(pts[pts.length - 2]);\r\n        _pts.unshift(pts[pts.length - 1]);\r\n        _pts.unshift(pts[pts.length - 2]);\r\n        _pts.push(pts[0]);\r\n        _pts.push(pts[1]);\r\n    }\r\n    else {\r\n        _pts.unshift(pts[1]);   //copy 1. point and insert at beginning\r\n        _pts.unshift(pts[0]);\r\n        _pts.push(pts[pts.length - 2]); //copy last point and append\r\n        _pts.push(pts[pts.length - 1]);\r\n    }\r\n\r\n    // ok, lets start..\r\n\r\n    // 1. loop goes through point array\r\n    // 2. loop goes through each segment between the 2 pts + 1e point before and after\r\n    for (i=2; i < (_pts.length - 4); i+=2) {\r\n        for (t=0; t <= numOfSegments; t++) {\r\n\r\n            // calc tension vectors\r\n            t1x = (_pts[i+2] - _pts[i-2]) * tension;\r\n            t2x = (_pts[i+4] - _pts[i]) * tension;\r\n\r\n            t1y = (_pts[i+3] - _pts[i-1]) * tension;\r\n            t2y = (_pts[i+5] - _pts[i+1]) * tension;\r\n\r\n            // calc step\r\n            st = t / numOfSegments;\r\n\r\n            // calc cardinals\r\n            c1 =   2 * Math.pow(st, 3)  - 3 * Math.pow(st, 2) + 1; \r\n            c2 = -(2 * Math.pow(st, 3)) + 3 * Math.pow(st, 2); \r\n            c3 =       Math.pow(st, 3)  - 2 * Math.pow(st, 2) + st; \r\n            c4 =       Math.pow(st, 3)  -     Math.pow(st, 2);\r\n\r\n            // calc x and y cords with common control vectors\r\n            x = c1 * _pts[i]    + c2 * _pts[i+2] + c3 * t1x + c4 * t2x;\r\n            y = c1 * _pts[i+1]  + c2 * _pts[i+3] + c3 * t1y + c4 * t2y;\r\n\r\n            //store points in array\r\n            res.push(x);\r\n            res.push(y);\r\n\r\n        }\r\n    }\r\n\r\n    return res;\r\n}\r\n\r\nconst VaseStore = types\r\n  .model(\"Vase\", {\r\n    cm: false,\r\n    dtop: 20,\r\n    d3: 10, \r\n    d2: 10, \r\n    d1: 35,\r\n    dbottom: 20, \r\n    dtop_h: 100, \r\n    d3_h: 90, \r\n    d2_h: 70, \r\n    d1_h: 50, \r\n    dbottom_h: 0, \r\n    height: 50,\r\n    top_rim: false, \r\n    bottom_rim: true, \r\n    bottom_disk: true, \r\n    scale_h: 36,\r\n    textures: types.optional(types.array(types.string), [\"top\", \"\", \"\", \"bottom\"])\r\n  })\r\n  .actions(self => ({\r\n    update_top_rim(top_rim){\r\n        self.top_rim = top_rim\r\n    },\r\n    update_bottom_rim(bottom_rim){\r\n        self.bottom_rim = bottom_rim\r\n    },\r\n    update_bottom_disk(bottom_disk){\r\n        self.bottom_disk = bottom_disk\r\n    },\r\n    update_units(units){\r\n        self.cm = units\r\n    },\r\n    update_height(height){\r\n        self.height = height\r\n    }, \r\n    update_dtop(dtop){\r\n        self.dtop = dtop\r\n    }, \r\n    update_d3(d3){\r\n        self.d3 = d3\r\n    }, \r\n    update_d2(d2){\r\n        self.d2 = d2\r\n    }, \r\n    update_d1(d1){\r\n        self.d1 = d1\r\n    }, \r\n    update_dbottom(dbottom){\r\n        self.dbottom = dbottom\r\n    },\r\n    update_d_heights(vals){\r\n        self.d3_h = vals[3]\r\n        self.d2_h = vals[2]\r\n        self.d1_h = vals[1]\r\n    },\r\n    storePic(picData, sectionNum){\r\n        self.textures[sectionNum] = picData\r\n        // console.log(picData)\r\n    },\r\n    updateCurvedPts(broken=false){\r\n        const s_dtop_h = self.scale_h/2\r\n        const s_dbottom_h = -1 * s_dtop_h\r\n        const scale_factor = self.scale_h/self.height\r\n    \r\n        const s_dtop = self.dtop * scale_factor\r\n        const s_dbottom = self.dbottom * scale_factor\r\n    \r\n        const s_d1 = self.d1 * scale_factor\r\n        const s_d1_h = (self.d1_h/100) * self.scale_h - s_dtop_h\r\n    \r\n        const s_d2 = self.d2 * scale_factor\r\n        const s_d2_h = (self.d2_h/100) * self.scale_h - s_dtop_h\r\n    \r\n        const s_d3 = self.d3 * scale_factor\r\n        const s_d3_h = (self.d3_h/100) * self.scale_h - s_dtop_h\r\n\r\n        var myPoints = [s_dbottom_h,s_dbottom/2, s_d1_h,s_d1/2,s_d2_h,s_d2/2, s_d3_h,s_d3/2, s_dtop_h,s_dtop/2]; \r\n        var tension = 0.4\r\n        var numOfSegments = 6\r\n        let points = [];\r\n        const new_pts = getCurvePointsNew(myPoints, tension, numOfSegments)\r\n        for (let i=0; i<new_pts.length; i+=2){\r\n            const h = new_pts[i]\r\n            const r = new_pts[i+1]\r\n            points.push( new THREE.Vector2(r, h));\r\n        }\r\n        if (!broken) return points\r\n        else{\r\n            let broken_pts = []\r\n            let broken_pts_three = []\r\n            let lo = 0 \r\n            let hi = 2\r\n            while (hi+3 < new_pts.length){\r\n                if (new_pts[hi] == new_pts[hi+2] && new_pts[hi+1] == new_pts[hi+3]){\r\n                    const temp = new_pts.slice(lo,hi+2)\r\n                    broken_pts.push(temp)\r\n                    lo = hi + 2\r\n                }\r\n                hi += 2\r\n            }\r\n            broken_pts.push(new_pts.slice(lo,new_pts.length))\r\n            for (let i=0; i<broken_pts.length; i+=1){\r\n                let temp = []\r\n                for(let j=0; j<broken_pts[i].length; j+= 2){\r\n                    const h = broken_pts[i][j]\r\n                    const r = broken_pts[i][j+1]\r\n                    temp.push( new THREE.Vector2(r, h));\r\n                }\r\n                broken_pts_three.push(temp)\r\n            }\r\n            return broken_pts_three\r\n        }\r\n    }\r\n  }))\r\n  .views(self => ({\r\n  }));\r\n\r\nexport default VaseStore;\r\n\r\nconst VaseContext = React.createContext();\r\n\r\nexport const VaseProvider = ({ children, store }) => {\r\n    return (\r\n      <VaseContext.Provider value={store}>{children}</VaseContext.Provider>\r\n    );\r\n  };\r\n\r\nexport const useVaseStore = () => React.useContext(VaseContext);\r\n\r\nexport const withVaseStore = (Component) => (props) => {\r\n    return <Component {...props} store={useVaseStore()} />;\r\n  };","import { types } from \"mobx-state-tree\";\r\nimport html2canvas from 'html2canvas';\r\nimport ReactDOM from 'react-dom';\r\n\r\nconst fileType = {\r\n  PNG: 'image/png',\r\n  JPEG: 'image/jpeg',\r\n  PDF: 'application/pdf'\r\n};\r\n\r\nconst DEFAULT_PNG = {\r\n  fileName: 'component.png',\r\n  type: fileType.PNG,\r\n  html2CanvasOptions: {}\r\n};\r\n\r\n// const saveAs = (uri, filename) => {\r\n//   const link = document.createElement('a');\r\n\r\n//   if (typeof link.download === 'string') {\r\n//       link.href = uri;\r\n//       link.download = filename;\r\n//       document.body.appendChild(link);\r\n//       link.click();\r\n//       document.body.removeChild(link);\r\n//   } else {\r\n//       window.open(uri);\r\n//   }\r\n// };\r\n\r\nconst exportComponentBak = (node, {\r\n  fileName, \r\n  type, \r\n  html2CanvasOptions, \r\n  pdfOptions\r\n}) => {\r\n  if(!node.current) {\r\n      throw new Error(\"'node' must be a RefObject\")\r\n  }\r\n\r\n  const element = ReactDOM.findDOMNode(node.current);\r\n  return html2canvas(element, {\r\n      scrollY: -window.scrollY,\r\n      useCORS: true,\r\n      ...html2CanvasOptions\r\n  }).then(canvas => {\r\n      console.log(canvas.toDataURL(type, 1.0))\r\n      // saveAs(canvas.toDataURL(type, 1.0), fileName);\r\n  });\r\n};\r\n\r\nconst exportComponentAsPNG = (node, parameters = {}) => exportComponentBak(node, {...DEFAULT_PNG, ...parameters});\r\n\r\nconst ColoringForm = types\r\n  .model(\"ColoringForm\", {\r\n    selectedColor: \"#FF0000\",\r\n    defaultColor: \"#FFFFFF\",\r\n    oldDefault: \"#FFFFFF\",\r\n    clear: false,\r\n    mode: false,\r\n    maxWidth: 53,\r\n    makeTexture: false,\r\n    vaseTextureStore: types.optional(types.array(types.string), [\"top\", \"\", \"\", \"bottom\"]),\r\n    vaseDimensions: types.optional(types.array(types.array(types.number)), [[53, 10],[40,10],[28,9], [16,10]]),\r\n    canvasPic: \"\",\r\n  })\r\n  .actions(self => ({\r\n    storePic(picData, sectionNum){\r\n      if (sectionNum == 100) {\r\n        self.canvasPic = picData\r\n        return\r\n      }\r\n      else {\r\n        self.vaseTextureStore[sectionNum] = picData\r\n        // console.log(picData)\r\n      }\r\n    }\r\n  }))\r\n  .actions(self => ({\r\n    getDimensions() {\r\n      self.maxWidth = 53\r\n      self.vaseDimensions = [[53, 10],[40,10],[28,9], [16,10]]\r\n      return [[53, 10],[40,10],[28,9], [16,10]]\r\n    }, \r\n    setColor(col){\r\n      self.clear = false\r\n      self.selectedColor = col\r\n    }, \r\n    setDefaultColor(col){\r\n      self.clear = false\r\n      self.oldDefault = self.defaultColor\r\n      self.defaultColor = col\r\n    },\r\n    clearAll(){\r\n      if (self.defaultColor == \"#FFFFFF\"){\r\n        self.oldDefault = \"#FFFFFE\" \r\n        self.defaultColor = \"#FFFFFE\"\r\n      }\r\n      else {\r\n        self.oldDefault = \"#FFFFFF\" \r\n        self.defaultColor = \"#FFFFFF\"\r\n      }\r\n      self.clear = true\r\n    }, \r\n    unsetClear(){\r\n      self.clear = false\r\n    },\r\n    setMode(val){\r\n      self.clear = false\r\n      self.mode = val\r\n    }, \r\n    setMakeTexture(val){\r\n      self.makeTexture = val\r\n    }, \r\n    exportComponent (node, sectionNum) {\r\n      if(!node.current) {\r\n          throw new Error(\"'node' must be a RefObject\")\r\n      }\r\n      const element = ReactDOM.findDOMNode(node.current);\r\n      return html2canvas(element, {\r\n          scrollY: -window.scrollY,\r\n          useCORS: true,\r\n          // ...html2CanvasOptions\r\n          imageTimeout: 0,\r\n          backgroundColor: self.defaultColor\r\n      }).then(canvas => {\r\n          self.storePic(canvas.toDataURL(DEFAULT_PNG, 0.1), sectionNum)\r\n      });\r\n    }\r\n  }))\r\n  .views(self => ({\r\n    // status() {\r\n    //   return self.is_paid ? \"Paid\" : \"Not Paid\";\r\n    // }\r\n  }));\r\n\r\nexport default ColoringForm;\r\n","import VaseStore from \"./VaseStore\"\r\nimport ColoringForm from \"./ColoringForm\"\r\nimport { types } from \"mobx-state-tree\";\r\n\r\n/**\r\n * A RootStore model.\r\n */\r\n// prettier-ignore\r\nconst RootStore = types.model(\"RootStore\").props({\r\n  vaseStore: types.optional(VaseStore, {}),\r\n  coloringFormStore: types.optional(ColoringForm, {}),\r\n});\r\n\r\nexport default RootStore;\r\n\r\n","import React, { createContext, useContext } from \"react\";\r\nimport RootStore from \"./RootStore\";\r\n\r\n/**\r\n * Create a context we can use to\r\n * - Provide access to our stores from our root component\r\n * - Consume stores in our screens (or other components, though it's\r\n *   preferable to just connect screens)\r\n */\r\n// const RootStoreContext = createContext();\r\n\r\n// /**\r\n//  * The provider our root component will use to expose the root store\r\n//  */\r\n// export const RootStoreProvider = RootStoreContext.Provider;\r\n\r\n// /**\r\n//  * A hook that screens can use to gain access to our stores, with\r\n//  * `const { someStore, someOtherStore } = useStores()`,\r\n//  * or less likely: `const rootStore = useStores()`\r\n//  */\r\n// export const useStores = () => useContext(RootStoreContext);\r\n\r\n//------------------------------------------------------------------\r\n\r\nconst RootStoreContext = React.createContext();\r\n\r\nexport const RootStoreProvider = RootStoreContext.Provider;\r\n\r\n\r\n// export const RootStoreProvider = ({ children, store }) => {\r\n//     return (\r\n//       <RootStoreContext.Provider value={store}>{children}</RootStoreContext.Provider>\r\n//     );\r\n// };\r\n\r\nexport const useStores = () => React.useContext(RootStoreContext);\r\n","import React, {useEffect} from \"react\";\r\n\r\nimport {\r\n  NavBtn,\r\n  NavBtnLink\r\n} from '../components/Navbar/NavbarElements';\r\nimport { Canvas} from \"react-three-fiber\";\r\nimport Vase from \"../components/Vase\"\r\nimport './create-vase.css'\r\nimport { Slider, Rail, Handles, Tracks, Ticks } from \"react-compound-slider\";\r\nimport SwitchSelector from \"react-switch-selector\";\r\nimport { observer } from \"mobx-react\";\r\nimport { useStores } from \"../models/RootStoreContext\"\r\n\r\nconst CreateVase = () => {\r\n\r\n  const { vaseStore } = useStores();\r\n\r\n  const sliderStyle = {  // Give the slider some width\r\n    position: 'relative',\r\n    width: '100%',\r\n    height: 15,\r\n    // border: '1px solid steelblue',\r\n  }\r\n  \r\n  const railStyle = {\r\n    position: 'absolute',\r\n    width: '100%',\r\n    height: 9,\r\n    // marginTop: 35,\r\n    borderRadius: 5,\r\n    backgroundColor: 'pink',\r\n  }\r\n  \r\n  function Handle({\r\n    handle: { id, value, percent },\r\n    getHandleProps\r\n  }) {\r\n    return (\r\n      <div className = \"straw\"\r\n        style={{\r\n          left: `${percent}%`,\r\n          position: 'absolute',\r\n          marginLeft: -15,\r\n          marginTop: -20,\r\n          zIndex: 2,\r\n          textAlign: 'right',\r\n          cursor: 'pointer',\r\n        }}\r\n        {...getHandleProps(id)}\r\n      >\r\n        <div style={{ fontFamily: 'Arial', fontSize: 16, marginTop: 15, marginLeft: 5, position:'absolute', zIndex: 3, color: \"#fff\"}}>\r\n          {value}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  function MultiHandle({\r\n    handle: { id, value, percent },\r\n    getHandleProps\r\n  }) {\r\n    if (id == \"$$-0\" || id == \"$$-4\"){\r\n      return (\r\n        <div className = \"straw\"\r\n          style={{\r\n            left: `${percent}%`,\r\n            position: 'absolute',\r\n            marginLeft: -15,\r\n            marginTop: -20,\r\n            zIndex: 2,\r\n            textAlign: 'right',\r\n            cursor: 'pointer',\r\n          }}\r\n        >\r\n          <div style={{ fontFamily: 'Arial', fontSize: 16, marginTop: 15, marginLeft: 5, position:'absolute', zIndex: 3, color: \"#fff\"}}>\r\n            {value}\r\n          </div>\r\n        </div>\r\n      )\r\n    } else {\r\n      return (\r\n        <div className = \"straw\"\r\n          style={{\r\n            left: `${percent}%`,\r\n            position: 'absolute',\r\n            marginLeft: -15,\r\n            marginTop: -20,\r\n            zIndex: 3,\r\n            textAlign: 'right',\r\n            cursor: 'pointer',\r\n          }}\r\n          {...getHandleProps(id)}\r\n        >\r\n          <div style={{ fontFamily: 'Arial', fontSize: 16, marginTop: 15, marginLeft: 5, position:'absolute', zIndex: 4, color: \"#fff\"}}>\r\n            {value}\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n  \r\n  const sliderHeight = <Slider rootStyle={sliderStyle} domain={[10, 100]} step={1} mode={2} values={[vaseStore.height]} onUpdate={(val) => vaseStore.update_height(val[0])} >\r\n    <Rail>\r\n      {({ getRailProps }) => (\r\n        <div style={railStyle} {...getRailProps()} />\r\n      )}\r\n    </Rail>\r\n    <Handles>\r\n      {({ handles, getHandleProps }) => (\r\n        <div className=\"slider-handles\">\r\n          {handles.map(handle => (\r\n            <Handle\r\n              key={handle.id}\r\n              handle={handle}\r\n              getHandleProps={getHandleProps}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </Handles>\r\n  </Slider>\r\n  \r\n  const slider_dtop = <Slider rootStyle={sliderStyle} domain={[10, 100]} step={1} mode={2} values={[vaseStore.dtop]} onUpdate={(val) => vaseStore.update_dtop(val[0])} >\r\n    <Rail>\r\n      {({ getRailProps }) => (\r\n        <div style={railStyle} {...getRailProps()} />\r\n      )}\r\n    </Rail>\r\n    <Handles>\r\n      {({ handles, getHandleProps }) => (\r\n        <div className=\"slider-handles\">\r\n          {handles.map(handle => (\r\n            <Handle\r\n              key={handle.id}\r\n              handle={handle}\r\n              getHandleProps={getHandleProps}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </Handles>\r\n  </Slider>\r\n  \r\n  const slider_d3 = <Slider rootStyle={sliderStyle} domain={[10, 100]} step={1} mode={2} values={[vaseStore.d3]} onUpdate={(val) => vaseStore.update_d3(val[0])} >\r\n    <Rail>\r\n    {({ getRailProps }) => (\r\n      <div style={railStyle} {...getRailProps()} />\r\n    )}\r\n    </Rail>\r\n    <Handles>\r\n      {({ handles, getHandleProps }) => (\r\n        <div className=\"slider-handles\">\r\n          {handles.map(handle => (\r\n            <Handle\r\n              key={handle.id}\r\n              handle={handle}\r\n              getHandleProps={getHandleProps}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </Handles>\r\n  </Slider>\r\n  \r\n  const slider_d2 = <Slider rootStyle={sliderStyle} domain={[10, 100]} step={1} mode={2} values={[vaseStore.d2]} onUpdate={(val) => vaseStore.update_d2(val[0])} >\r\n    <Rail>\r\n      {({ getRailProps }) => (\r\n        <div style={railStyle} {...getRailProps()} />\r\n      )}\r\n    </Rail>\r\n    <Handles>\r\n      {({ handles, getHandleProps }) => (\r\n        <div className=\"slider-handles\">\r\n          {handles.map(handle => (\r\n            <Handle\r\n              key={handle.id}\r\n              handle={handle}\r\n              getHandleProps={getHandleProps}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </Handles>\r\n  </Slider>\r\n  \r\n  const slider_d1 = <Slider rootStyle={sliderStyle} domain={[10, 100]} step={1} mode={2} values={[vaseStore.d1]} onUpdate={(val) => vaseStore.update_d1(val[0])} >\r\n    <Rail>\r\n      {({ getRailProps }) => (\r\n        <div style={railStyle} {...getRailProps()} />\r\n      )}\r\n    </Rail>\r\n    <Handles>\r\n      {({ handles, getHandleProps }) => (\r\n        <div className=\"slider-handles\">\r\n          {handles.map(handle => (\r\n            <Handle\r\n              key={handle.id}\r\n              handle={handle}\r\n              getHandleProps={getHandleProps}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </Handles>\r\n  </Slider>\r\n  \r\n  const slider_dbottom = <Slider rootStyle={sliderStyle} domain={[10, 100]} step={1} mode={2} values={[vaseStore.dbottom]} onUpdate={(val) => vaseStore.update_dbottom(val[0])} >\r\n    <Rail>\r\n      {({ getRailProps }) => (\r\n        <div style={railStyle} {...getRailProps()} />\r\n      )}\r\n    </Rail>\r\n    <Handles>\r\n      {({ handles, getHandleProps }) => (\r\n        <div className=\"slider-handles\">\r\n          {handles.map(handle => (\r\n            <Handle\r\n              key={handle.id}\r\n              handle={handle}\r\n              getHandleProps={getHandleProps}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </Handles>\r\n  </Slider>\r\n  \r\n  const dSlider = <Slider\r\n  rootStyle={sliderStyle}\r\n  domain={[0, 100]}\r\n  mode={2}\r\n  values={[0, vaseStore.d1_h, vaseStore.d2_h, vaseStore.d3_h, 100] /* three values = three handles */}\r\n  onUpdate={(val)=>vaseStore.update_d_heights(val)}\r\n  step={5}\r\n  >\r\n  <div style={railStyle} />\r\n  <Handles>\r\n    {({ handles, getHandleProps }) => (\r\n      <div className=\"slider-handles\">\r\n        {handles.map(handle => (\r\n          <MultiHandle\r\n            key={handle.id}\r\n            handle={handle}\r\n            getHandleProps={getHandleProps}\r\n          />\r\n        ))}\r\n      </div>\r\n    )}\r\n  </Handles>\r\n  </Slider>\r\n  \r\n  const options = [\r\n    {\r\n        label: \"y\",\r\n        value: true,\r\n        selectedBackgroundColor: \"#E28988\",\r\n    },  {\r\n        label: \"n\",\r\n        value: false,\r\n        selectedBackgroundColor: \"#E28988\"\r\n    }\r\n  ];\r\n  \r\n  const unitOptions = [\r\n    {\r\n        label: \"cm\",\r\n        value: true,\r\n        selectedBackgroundColor: \"#E28988\",\r\n    },  {\r\n        label: \"in\",\r\n        value: false,\r\n        selectedBackgroundColor: \"#E28988\"\r\n    }\r\n  ];\r\n  \r\n  const top_rim_switch = <div className=\"switch\"  style={{width: 100, height: 50}}>\r\n      <SwitchSelector\r\n          onChange={(val) => vaseStore.update_top_rim(val)}\r\n          options={options}\r\n          initialSelectedIndex={vaseStore.top_rim ? 0 : 1}\r\n          backgroundColor={\"#FFE7E5\"}\r\n          fontColor={\"#D75A58\"}\r\n          optionBorderRadius={30}\r\n      />\r\n  </div>\r\n  \r\n  const bottom_rim_switch = <div className=\"switch\"  style={{width: 100, height: 50}}>\r\n      <SwitchSelector\r\n          onChange={(val) => vaseStore.update_bottom_rim(val)}\r\n          options={options}\r\n          initialSelectedIndex={vaseStore.bottom_rim ? 0 : 1}\r\n          backgroundColor={\"#FFE7E5\"}\r\n          fontColor={\"#D75A58\"}\r\n          optionBorderRadius={30}\r\n      />\r\n  </div>\r\n  \r\n  const bottom_disk_switch = <div className=\"switch\"  style={{width: 100, height: 50}}>\r\n      <SwitchSelector\r\n          onChange={(val) => vaseStore.update_bottom_disk(val)}\r\n          options={options}\r\n          initialSelectedIndex={vaseStore.bottom_disk ? 0 : 1}\r\n          backgroundColor={\"#FFE7E5\"}\r\n          fontColor={\"#D75A58\"}\r\n          optionBorderRadius={30}\r\n      />\r\n  </div>\r\n  \r\n  const units_switch = <div className=\"switch\" style={{width: 100, height: 50}}>\r\n      <SwitchSelector\r\n          onChange={(val) => vaseStore.update_units(val)}\r\n          options={unitOptions}\r\n          initialSelectedIndex={vaseStore.units ? 0 : 1}\r\n          backgroundColor={\"#FFE7E5\"}\r\n          fontColor={\"#D75A58\"}\r\n          optionBorderRadius={30}\r\n      />\r\n  </div>\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container\" style={{background: '#FFE7E5', display: 'flex', flexDirection:'row', width: 'auto', height: 'auto'}}>\r\n        <div className=\"containerLeft\" style={{background: '#FFE7E5', width: '57%', height: 'auto',float:'left'}}>\r\n          <Canvas camera={{position:[0, 0, 120], fov:30, aspect: 800/600, near: 0.1,far: 1000}} style={{background: \"pink\", height: '80%', borderRadius:30, marginTop:'1%', marginLeft:'1%',width:'99%'}}>\r\n            {/* <ambientLight intensity={0} /> */}\r\n            <spotLight position={[-275, 150, 90]} intensity = {1.5}/>\r\n            <spotLight position={[100, 25, 90]} intensity = {1.3}/>\r\n            <spotLight position={[-150, -150, 110]} intensity = {0.6} />\r\n            <spotLight position={[150, -150, 110]} intensity={0.6} />\r\n            <spotLight position={[-10, 0, 25]} intensity={0.6} />\r\n             {/* <spotLight position={[10, 10, 10]} angle={0.15} penumbra={1} /> */}\r\n            {/* <pointLight position={[-10, -10, -10]} /> */}\r\n            <Vase vase={vaseStore} />\r\n          </Canvas>\r\n          <div className=\"containerCaption\">\r\n            <br/>\r\n            <a>Press <span>x</span> , <span>y</span> , and <span>z</span> to rotate the object ,<br/><span>q</span> and <span>w</span> to zoom in and out , <br/>and <span>space</span> to reset view to default . </a>\r\n          </div>\r\n        </div>\r\n        <div className=\"containerRight\" style={{background: '#FFE7E5', width: '43%', height: '100%', overflow: 'visible', float:'right'}}>\r\n          <br />\r\n          <p className=\"textSwitch\">units</p>\r\n          {units_switch}\r\n          <div>\r\n            <div style={{background: '#FFE7E5', width: '40.5%', float: 'left', marginBottom:30, marginLeft:25, marginTop:15}}>\r\n              <p className=\"text\">height</p>\r\n              {sliderHeight}\r\n              <p className=\"text\">2nd diameter</p>\r\n              {slider_d3}\r\n              <p className=\"text\">4th diameter</p>\r\n              {slider_d1}\r\n            </div>\r\n            <div style={{background: '#FFE7E5', width: '40.5%', float: 'right', marginBottom:30, marginRight:30, marginTop:15}}>\r\n              <p className=\"text\">top diameter</p>\r\n              {slider_dtop}\r\n              <p className=\"text\">3rd diameter</p>\r\n              {slider_d2}\r\n              <p className=\"text\">bottom diameter</p>\r\n              {slider_dbottom}\r\n            </div>\r\n          </div>\r\n          <p className=\"text\">diameter heights ( % )</p>\r\n          <div style={{width:'88%', marginLeft:'5%'}}>\r\n            {dSlider}\r\n          </div>\r\n          <div style={{float: 'left', width: '33.3%', overflow:'visible', marginTop:25, marginBottom:10}}>\r\n            <p className=\"textSwitch\">top rim</p>\r\n            {top_rim_switch}\r\n          </div>\r\n          <div style={{float: 'left', width: '33.3%', overflow:'visible', marginTop:25, marginBottom:10}}>\r\n            <p className=\"textSwitch\">bottom rim</p>\r\n            {bottom_rim_switch}\r\n          </div>\r\n          <div style={{float: 'right', width: '33.4%', overflow:'visible', marginTop:25, marginBottom:10}}>\r\n            <p className=\"textSwitch\">bottom cover</p>\r\n            {bottom_disk_switch}\r\n          </div>\r\n          <div style={{color:'#FFE7E5', marginTop: -10}}>.</div>\r\n          <div className=\"switch\" style={{width: 80, marginBottom:35}}>\r\n            <NavBtn>\r\n              <NavBtnLink style={{background: \"#D14240\"}} to='/colouring'>\r\n                <p className = \"buttonText\">done</p>\r\n                </NavBtnLink>\r\n            </NavBtn>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  </>  \r\n  );\r\n};\r\n\r\nexport default observer(CreateVase);","import React from 'react';\r\nimport {\r\n  NavBtn,\r\n  NavBtnLink\r\n} from '../components/Navbar/NavbarElements';\r\n\r\nconst CreateBasket = () => {\r\n  return (\r\n    <>\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n          height: '15vh',\r\n          background: '#caa'\r\n        }}\r\n      >\r\n        <h1>Basket</h1>\r\n      </div>\r\n      <div style={{display: 'flex', flexDirection:'row', width: 'auto', height: '90vh'}}>\r\n        <div style={{background: '#baa', width: '57%', height: 'auto'}}>\r\n          <h1>Canvas</h1>\r\n        </div>\r\n        <div style={{background: '#daa', width: '43%', height: 'auto'}}>\r\n          <h1>Input</h1>\r\n          <NavBtn>\r\n            <NavBtnLink to='/colouring'>Done</NavBtnLink>\r\n          </NavBtn>\r\n        </div>\r\n      </div>\r\n  </>  \r\n  );\r\n};\r\n\r\nexport default CreateBasket;","import React from 'react';\r\nimport {\r\n  NavBtn,\r\n  NavBtnLink\r\n} from '../components/Navbar/NavbarElements';\r\n\r\nconst CreateFigurine = () => {\r\n  return (\r\n    <>\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n          height: '15vh',\r\n          background: '#caa'\r\n        }}\r\n      >\r\n        <h1>Figurine</h1>\r\n      </div>\r\n      <div style={{display: 'flex', flexDirection:'row', width: 'auto', height: '90vh'}}>\r\n        <div style={{background: '#baa', width: '57%', height: 'auto'}}>\r\n          <h1>Canvas</h1>\r\n        </div>\r\n        <div style={{background: '#daa', width: '43%', height: 'auto'}}>\r\n          <h1>Input</h1>\r\n          <NavBtn>\r\n            <NavBtnLink to='/colouring'>Done</NavBtnLink>\r\n          </NavBtn>\r\n        </div>\r\n      </div>\r\n  </>  \r\n  );\r\n};\r\n\r\nexport default CreateFigurine;","import React, { useRef, useState, useMemo, useEffect} from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport * as THREE from \"three\";\r\nimport grid from \"../../assets/paper.PNG\";\r\nimport {useUpdate} from \"react-three-fiber\"\r\n\r\n\r\nconst ResultVase = (props) => {\r\n    const {vaseStore} = props\r\n    // const mesh = useRef();\r\n\r\n    const texture = useMemo(() => new THREE.TextureLoader().load(grid), []);\r\n    // const textureTop = useMemo(() => new THREE.TextureLoader().load(grid), []);\r\n    // const texture2 = useMemo(() => new THREE.TextureLoader().load(grid), []);\r\n    // const texture1 = useMemo(() => new THREE.TextureLoader().load(grid), []);\r\n    // const textureBottom = useMemo(() => new THREE.TextureLoader().load(grid), []);\r\n\r\n    let refTop = useRef()\r\n    let refTop2 = useRef() \r\n    let ref2 = useRef()\r\n    let ref22 = useRef()\r\n    let ref1 = useRef() \r\n    let ref12 = useRef() \r\n    let refBot = useRef() \r\n    let refBot2 = useRef() \r\n\r\n    useEffect(() => {\r\n        refTop.current.map = new THREE.TextureLoader().load(vaseStore.textures[0])\r\n        refTop2.current.map = new THREE.TextureLoader().load(vaseStore.textures[0])\r\n        ref2.current.map = new THREE.TextureLoader().load(vaseStore.textures[1])\r\n        ref22.current.map = new THREE.TextureLoader().load(vaseStore.textures[1])\r\n        ref1.current.map = new THREE.TextureLoader().load(vaseStore.textures[2])\r\n        ref12.current.map = new THREE.TextureLoader().load(vaseStore.textures[2])\r\n        refBot.current.map = new THREE.TextureLoader().load(vaseStore.textures[3])\r\n        refBot2.current.map = new THREE.TextureLoader().load(vaseStore.textures[3])\r\n        // console.log(refTop.current)\r\n        \r\n    }, [vaseStore.textures[3]])\r\n\r\n    // not working - its not picking up the new texture changes, need a useEffect with a boolean? look into useMEmo\r\n\r\n    const s_dtop_h = vaseStore.scale_h/2\r\n    const s_dbottom_h = -1 * s_dtop_h\r\n    const scale_factor = vaseStore.scale_h/vaseStore.height\r\n\r\n    const s_dtop = vaseStore.dtop * scale_factor\r\n    const s_dbottom = vaseStore.dbottom * scale_factor\r\n\r\n    let top_rim_mesh = <mesh/>\r\n    let bottom_rim_mesh = <mesh />\r\n    let bottom_disk_mesh = <mesh />\r\n\r\n    if (vaseStore.top_rim){\r\n        top_rim_mesh = <mesh position = {[0,s_dtop_h+0.1,0]} rotation = {[1.57,0,0]}> \r\n        <torusGeometry args={[(s_dtop/2)+0.1,0.4,10,50]}/>\r\n        <meshPhongMaterial color=\"#FF7E98\" />\r\n        </mesh>\r\n    }\r\n    if (vaseStore.bottom_rim){\r\n        bottom_rim_mesh = <mesh position = {[0,s_dbottom_h-0.1,0]} rotation = {[1.57,0,0]}> \r\n        <torusGeometry args={[(s_dbottom/2)+0.1, 0.4, 10, 50]}/>\r\n        <meshPhongMaterial color=\"#FF7E98\" />\r\n        </mesh>\r\n    }\r\n\r\n    const points = vaseStore.updateCurvedPts(true)\r\n    const topPts = points[3]\r\n    const pts2 = points[2]\r\n    const pts1 = points[1]\r\n    const bottomPts = points[0]\r\n\r\n    const topVase = \r\n    <group>\r\n        <mesh >\r\n            <latheGeometry args={[topPts, 30, 0, 2*Math.PI]}/>\r\n            <meshPhongMaterial ref={refTop}  color=\"pink\" side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>\r\n        </mesh>\r\n        <mesh>\r\n            <latheGeometry args={[topPts, 30, 0, 2*Math.PI]}/>\r\n            <meshPhongMaterial ref={refTop2}  color=\"pink\" side = {THREE.BackSide} />\r\n        </mesh>\r\n    </group>\r\n\r\n    const pts2Vase = \r\n    <group>\r\n        <mesh >\r\n            <latheGeometry args={[pts2, 30, 0, 2*Math.PI]}/>\r\n            <meshPhongMaterial ref={ref2}   color=\"pink\" side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>\r\n        </mesh>\r\n        <mesh>\r\n            <latheGeometry args={[pts2, 30, 0, 2*Math.PI]}/>\r\n            <meshPhongMaterial ref={ref22} color=\"pink\" side = {THREE.BackSide} />\r\n        </mesh>\r\n    </group>\r\n\r\n    const pts1Vase = \r\n    <group>\r\n        <mesh >\r\n            <latheGeometry args={[pts1, 30, 0, 2*Math.PI]}/>\r\n            <meshPhongMaterial ref={ref1} color=\"pink\" side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>\r\n        </mesh>\r\n        <mesh>\r\n            <latheGeometry args={[pts1, 30, 0, 2*Math.PI]}/>\r\n            <meshPhongMaterial ref={ref12}  color=\"pink\" side = {THREE.BackSide} />\r\n        </mesh>\r\n    </group>\r\n\r\n    const bottomVase = \r\n    <group>\r\n        <mesh >\r\n            <latheGeometry args={[bottomPts, 30, 0, 2*Math.PI]}/>\r\n            <meshPhongMaterial ref={refBot} color=\"pink\" side={THREE.FrontSide} specular=\"#121212\" shininess = {26}/>\r\n        </mesh>\r\n        <mesh>\r\n            <latheGeometry args={[bottomPts, 30, 0, 2*Math.PI]}/>\r\n            <meshPhongMaterial ref={refBot2} color=\"pink\" side = {THREE.BackSide} />\r\n        </mesh>\r\n    </group>\r\n\r\n    let [x_rot,changeXrot] = useState(0);\r\n    let [y_rot,changeYrot] = useState(0);\r\n    let [z_rot,changeZrot] = useState(0);\r\n    let [dist,changeDist] = useState(0);\r\n\r\n    if (vaseStore.bottom_disk){\r\n        bottom_disk_mesh = <mesh position = {[0,s_dbottom_h,0]}>\r\n            <cylinderGeometry args={[s_dbottom/2, s_dbottom/2, 0.8, 32]}/>\r\n            <meshPhongMaterial color=\"pink\" map={texture} />\r\n        </mesh>\r\n    }\r\n\r\n    const handleKeyDown = (event) => {\r\n        switch(event.key)\r\n        {\r\n            case \"x\":\r\n                    x_rot = x_rot + 0.1\r\n                    changeXrot(x_rot);\r\n                    break;\r\n            case \"y\": \r\n                    y_rot = y_rot + 0.1\r\n                    changeYrot(y_rot);\r\n                    break;\r\n            case \"z\": \r\n                    z_rot = z_rot + 0.1\r\n                    changeZrot(z_rot);\r\n                    break;\r\n            case \"w\": \r\n                    dist = Math.max(dist - 5,-550)\r\n                    changeDist(dist)\r\n                    break;\r\n            case \"q\": \r\n                    dist = Math.min(dist + 5,40)\r\n                    changeDist(dist)\r\n                    break;\r\n            case \" \": \r\n                    event.preventDefault()\r\n                    x_rot = 0\r\n                    y_rot = 0\r\n                    z_rot = 0 \r\n                    dist = 0\r\n                    changeXrot(x_rot)\r\n                    changeYrot(y_rot)\r\n                    changeZrot(z_rot)\r\n                    changeDist(dist)\r\n            default: \r\n                    break;\r\n        }\r\n    };\r\n    \r\n    React.useEffect(() => {\r\n        window.addEventListener('keydown', handleKeyDown);\r\n\r\n        // cleanup this component\r\n        return () => {\r\n            window.removeEventListener('keydown', handleKeyDown);\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <group position={[0,0,dist]} rotation={[x_rot,y_rot,z_rot]}> \r\n            {topVase}\r\n            {pts2Vase}\r\n            {pts1Vase}\r\n            {bottomVase}\r\n            {vaseStore.top_rim && top_rim_mesh}\r\n            {vaseStore.bottom_rim && bottom_rim_mesh}\r\n            {/* {vaseStore.bottom_disk && bottom_disk_mesh} */}\r\n        </group>\r\n    )\r\n  }\r\n\r\nexport default observer(ResultVase);","import React, {useEffect, useRef} from 'react';\r\nimport {useStores} from \"../models/RootStoreContext\"\r\nimport { observer } from \"mobx-react\";\r\nimport  ResultVase  from \"../components/ResultVase\"\r\nimport { Canvas} from \"react-three-fiber\";\r\nimport grid from \"../assets/paper.PNG\"\r\n\r\nconst Result = () => {\r\n  const { coloringFormStore, vaseStore } = useStores()\r\n\r\n  const canvasRef = useRef()\r\n  // const contextRef = useRef()\r\n\r\n  // coloringFormStore.setMakeTexture(false)\r\n  \r\n  useEffect(() => {\r\n    const canvas = canvasRef.current\r\n    const context = canvas.getContext(\"2d\")\r\n    coloringFormStore.setMakeTexture(false)\r\n\r\n    for (let i = 0 ; i < 4; i++){\r\n      let topPic = new Image;\r\n      topPic.src = coloringFormStore.vaseTextureStore[i]\r\n      topPic.onload = function(){\r\n        const px_size = topPic.height/coloringFormStore.vaseDimensions[i][1]\r\n        const half_px_width = px_size/2\r\n        canvas.width = topPic.width-half_px_width;\r\n        canvas.height = topPic.height;\r\n        context.drawImage(topPic,0,0);\r\n        const end_idx = topPic.width-px_size;\r\n        for (let j = px_size+1; j < topPic.height; j+=2*(px_size)){\r\n          var imgData = context.getImageData(end_idx,j,Math.ceil(half_px_width),px_size);\r\n          context.putImageData(imgData, 0,j);\r\n        }\r\n        var texture = canvas.toDataURL(\"image/png\", 1.0)\r\n        vaseStore.storePic(texture, i)\r\n      };\r\n    }\r\n  }, [coloringFormStore.vaseTextureStore[3]])\r\n\r\n  \r\n\r\n  return (\r\n    <div style={{height: 500, width : 500}}>\r\n      <canvas style={{display:\"none\"}} ref={canvasRef}></canvas> <br/>\r\n      <Canvas camera={{position:[0, 0, 120], fov:30, aspect: 800/600, near: 0.1,far: 1000}} style={{background: \"pink\", height: '100%', borderRadius:30, marginTop:'1%', marginLeft:'1%',width:'99%'}}>\r\n        <spotLight position={[-275, 150, 90]} intensity = {1.5}/>\r\n        <spotLight position={[100, 25, 90]} intensity = {1.3}/>\r\n        <spotLight position={[-150, -150, 110]} intensity = {0.6} />\r\n        <spotLight position={[150, -150, 110]} intensity={0.6} />\r\n        <spotLight position={[-10, 0, 25]} intensity={0.6} />\r\n        <ResultVase vaseStore={vaseStore} />\r\n      </Canvas>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default observer(Result);","import React from 'react';\r\nimport Navbar from '../components/Navbar';\r\n\r\nimport Landing from './landing';\r\nimport About from './about';\r\nimport Learn from './learn';\r\nimport Contact from './contact';\r\nimport Create from './create';\r\nimport Gallery from './gallery';\r\nimport Browse from './browse';\r\nimport CreateSwan from \"./create-swan\"\r\nimport CreateVase from \"./create-vase\"\r\nimport CreateBasket from \"./create-basket\"\r\nimport CreateFigurine from \"./create-figurine\"\r\nimport Result from \"./result\"\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\n\r\n\r\nconst Home = () => {\r\n  return (\r\n  <div className=\"Background\">\r\n    <div className=\"InnerApp\"> \r\n      <Navbar/>\r\n      <Switch>\r\n        <Route path='/about' component={About} />\r\n        <Route path='/create' component={Create} />\r\n        <Route path='/learn' component={Learn} />\r\n        <Route path='/contact' component={Contact} />\r\n        <Route path='/gallery' component={Gallery} />\r\n        <Route path='/browse' component={Browse} />\r\n        <Route path='/create-swan' component={CreateSwan} />\r\n        <Route path='/create-vase' component={CreateVase} />\r\n        <Route path='/create-basket' component={CreateBasket} />\r\n        <Route path='/create-figurine' component={CreateFigurine} />\r\n        <Route path='/Result' component={Result} />\r\n        <Route path='/' component={Landing}/>\r\n      </Switch>\r\n    </div>\r\n    <p style={{marginBottom: 30, marginTop: 20, letterSpacing: 1.5, color: \"#E33937\", fontSize:13}}>lina nguyen 🍓 2021</p>\r\n  </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useEffect, useState, useRef} from \"react\";\r\nimport \"./pixel.css\";\r\nimport { observer } from \"mobx-react\";\r\n\r\nconst Pixel = (props) => {\r\n  const {formObject} = props;\r\n\r\n  const [pixelColor, setPixelColor] = useState(\"#FFFFFF\");\r\n  const [oldColor, setOldColor] = useState(pixelColor);\r\n  const [canChangeColor, setCanChangeColor] = useState(true);\r\n\r\n  function borderColor(defaultColor) {\r\n    // if (formObject.makeTexture) return pixelColor\r\n    var color = defaultColor.substring(2, 8);\r\n    var r = parseInt(color.substring(0, 2), 16); // hexToR\r\n    var g = parseInt(color.substring(2, 4), 16); // hexToG\r\n    var b = parseInt(color.substring(4, 6), 16); // hexToB\r\n    return (((r * 0.299) + (g * 0.587) + (b * 0.114)) > 90) ?\r\n      \"#000000\" : \"#FFFFFF\";\r\n  }\r\n\r\n  useEffect(()=>{\r\n    if(formObject.clear) {\r\n      setPixelColor(formObject.defaultColor)\r\n    }\r\n    else if (pixelColor == formObject.oldDefault) setPixelColor(formObject.defaultColor)\r\n  }, [formObject.defaultColor])\r\n\r\n\r\n  function applyColor() {\r\n    formObject.unsetClear();\r\n    setPixelColor(formObject.selectedColor);\r\n    setCanChangeColor(false);\r\n  }\r\n\r\n  function applyColorSpray() {\r\n    if (formObject.mode){\r\n      applyColor()\r\n    }\r\n  }\r\n\r\n  function changeColorOnHover() {\r\n    setOldColor(pixelColor);\r\n    setPixelColor(formObject.selectedColor);\r\n  }\r\n\r\n  function resetColor() {\r\n    if (canChangeColor) {\r\n      setPixelColor(oldColor);\r\n    }\r\n\r\n    setCanChangeColor(true);\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"pixel\"\r\n      onClick={applyColor}\r\n      onMouseEnter={changeColorOnHover}\r\n      onMouseLeave={resetColor}\r\n      onMouseOver={applyColorSpray}\r\n      style={{ background: pixelColor, width: formObject.makeTexture ? 13 : 20, borderColor: borderColor(formObject.defaultColor), borderWidth: formObject.makeTexture ? 0 : 0.5}}\r\n    ></div>\r\n  );\r\n\r\n}\r\n\r\nexport default observer(Pixel);","import React, { useState } from \"react\";\r\nimport \"./specialPixel.css\";\r\n\r\nexport default function SpecialPixel(props) {\r\n  const {on, num, markerNum, displayRowNum, rounded} = props;\r\n\r\n  if (on){\r\n    if (markerNum){\r\n      return (\r\n        <div\r\n          className=\"specialPixelOn\"\r\n        ><p style={{marginTop: -4, fontSize: 10, marginLeft: -1.1, position:'absolute', background: \"#FF6C7B\", paddingLeft: 2.5, paddingRight:2.5, borderRadius:6, color:\"white\"}}> {markerNum}</p></div>\r\n      );\r\n    } else {\r\n      if (rounded){\r\n        return (\r\n          <div className=\"roundedRight\"\r\n          ></div>\r\n        );\r\n      }\r\n      else{\r\n        return (\r\n          <div className=\"specialPixelOn\"\r\n          ></div>\r\n        );\r\n      }\r\n    }\r\n  } \r\n  else {\r\n    if (displayRowNum){\r\n      return (\r\n        <div\r\n          className=\"rowMarkerPixel\"\r\n        >\r\n          <p style={{fontSize:9, marginLeft: 5, marginTop:0, position:'absolute'}}>{displayRowNum}</p>\r\n          </div>\r\n      );\r\n    }\r\n    else{\r\n      return (\r\n        <div\r\n          className=\"specialPixelOff\"\r\n        >\r\n          <p style={{fontSize:10, marginLeft: 4, marginTop: -4, position:'absolute'}}>{num}</p>\r\n          </div>\r\n      );\r\n    }\r\n  }\r\n}","import React, {useEffect} from \"react\";\r\nimport \"./row.css\";\r\nimport Pixel from \"../Pixel\";\r\nimport SpecialPixel from \"../SpecialPixel\";\r\nimport { observer } from \"mobx-react\";\r\n\r\n\r\nconst Row = (props) => {\r\n  const { width, displayRowNum, formObject} = props;\r\n  let {offset} = props;\r\n  let pixels = [];\r\n\r\n  if(!formObject.makeTexture) pixels.push(<SpecialPixel key={-1} on={false} displayRowNum={displayRowNum} />)\r\n\r\n  for (let i = 0; i < width; i++) {\r\n    pixels.push(<Pixel key={i} formObject={formObject}/>);\r\n  }\r\n\r\n  if(!formObject.makeTexture) pixels.push(<SpecialPixel key={width} on={false} displayRowNum={displayRowNum} />)\r\n\r\n  return <div style={{marginLeft: offset}} className=\"row\">{pixels}</div>;\r\n}\r\n\r\nexport default observer(Row)","import React from \"react\";\r\nimport \"./specialRow.css\";\r\nimport SpecialPixel from \"../SpecialPixel\";\r\n\r\nexport default function SpecialRow(props) {\r\n  const { width, offset, specialTop, specialBottom } = props;\r\n\r\n  let pixels = [];\r\n\r\n  const my_dict = specialBottom ? specialBottom : specialTop\r\n  let count = 0 \r\n\r\n  pixels.push(<SpecialPixel key={-1} on={false} num={\"\"}/>)\r\n\r\n  for (let i = 0; i < width; i++) {\r\n    if (i in my_dict){\r\n      if (my_dict[i] == 1){\r\n        count += 1\r\n        pixels.push(<SpecialPixel key={i} on={true} markerNum={count}/>);\r\n      }\r\n      else if (my_dict[i] == -1){\r\n        pixels.push(<SpecialPixel key={i} on={true} rounded={true}/>);\r\n      }\r\n      else if (i == width-1 && my_dict[i] == 0){\r\n        pixels[0] = <SpecialPixel key={i} on={true}/>\r\n      }\r\n      else{\r\n        pixels.push(<SpecialPixel key={i} on={true}/>);\r\n      }\r\n    }\r\n    else{\r\n        pixels.push(<SpecialPixel key={i} on={false} num = {i+1}/>);\r\n    }\r\n  }\r\n\r\n  return <div style={{marginLeft: offset}} className=\"specialRow\">{pixels}</div>;\r\n}","  \r\nimport React, { useRef, useEffect } from \"react\";\r\nimport \"./drawingSection.css\";\r\nimport Row from \"../Row\";\r\nimport SpecialRow from \"../SpecialRow\";\r\nimport { observer } from \"mobx-react\";\r\n\r\n// import { exportComponentAsPNG } from \"react-component-export-image\";\r\n\r\nconst DrawingSection = (props) => {\r\n  const { width, height, specialTop, specialBottom, sectionNum, increasing, formObject} = props;\r\n\r\n  const panelRef = useRef();\r\n\r\n  useEffect(()=>{\r\n    if(formObject.makeTexture) {\r\n      formObject.exportComponent(panelRef, sectionNum)\r\n    }\r\n  }, [formObject.makeTexture])\r\n\r\n  let rows = []; \r\n\r\n  if(!formObject.makeTexture) rows.push(<SpecialRow key={-1} offset={0} width={width} specialTop={specialTop} />)\r\n\r\n  for (let i = 0; i < height; i++) {\r\n    if (i%2 == 1){\r\n      rows.push(<Row key={i} offset={formObject.makeTexture ? 7 : 10.5} width={width} displayRowNum={height-i} formObject={formObject}/>);\r\n    }\r\n    else{ \r\n      rows.push(<Row key={i} offset={0} width={width} displayRowNum={height-i} formObject={formObject}/>);\r\n    }\r\n  }\r\n  \r\n  if (!formObject.makeTexture){\r\n    if(increasing){\r\n      if (height%2 == 1){\r\n        rows.push(<SpecialRow key={height} offset={10.5} width={width} specialBottom={specialBottom} />)\r\n      } else {\r\n        rows.push(<SpecialRow key={height} offset={10.5*2} width={width} specialBottom={specialBottom} />)\r\n      }\r\n    }\r\n    else{\r\n      if (height%2 == 1){\r\n        rows.push(<SpecialRow key={height} offset={0} width={width} specialBottom={specialBottom} />)\r\n      } else {\r\n        rows.push(<SpecialRow key={height} offset={10.5} width={width} specialBottom={specialBottom} />)\r\n      }\r\n    }\r\n  } \r\n\r\n  return (\r\n    <div id=\"drawingSection\">\r\n      <div id=\"pixels\" ref={panelRef} style={{marginBottom: formObject.makeTexture ? 0 : 10, marginLeft: formObject.makeTexture ? 0 : 40, marginRight: formObject.makeTexture ? 0 : 40}}>\r\n        {rows}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default observer(DrawingSection)","import React, {useRef} from 'react';\r\nimport DrawingSection from \"../DrawingSection\";\r\nimport \"./OrigamiObject.css\";\r\nimport { observer } from \"mobx-react\";\r\n\r\nconst OrigamiObject = (props) => {\r\n    const { dimensions, formObject} = props;\r\n  \r\n    const objectRef = useRef();\r\n\r\n    let increasing = []\r\n    let specialTop = []\r\n    let specialBottom = []\r\n\r\n    for (let i = dimensions.length-2; i >= 0; i--){\r\n      let sTopCurr = {}\r\n      let sBottomCurr = {}\r\n\r\n      const curr = dimensions[i+1][0]\r\n      const next = dimensions[i][0]\r\n      let diff = next-curr // number of pieces need to add or subtract \r\n\r\n      let distribute = 0 \r\n      let remainder = 0\r\n      let spacing = 0\r\n\r\n      if (diff > 0){ // increasing - 2 pcs per increase\r\n        sBottomCurr  = {0: 1, 1: 0, 2: -1}\r\n        distribute = curr - (2 * diff)// pieces left to distribute for spacing \r\n        remainder = distribute >= 0 ? distribute % diff : curr-diff\r\n        spacing = Math.floor(distribute/diff)\r\n        let spacing_arr = Array(diff).fill(spacing)\r\n        for (let i = 0; i < 2; i++){\r\n          let j = i\r\n          while (j < diff && remainder > 0){\r\n            spacing_arr[j] += 1 \r\n            remainder -= 1 \r\n            j += 2 \r\n          }\r\n        }\r\n        let i = 0 \r\n        let idx = 0 \r\n        while(i < diff){\r\n          sTopCurr[idx] = 1\r\n          sTopCurr[idx+1] = -1\r\n          idx += spacing_arr[i] + 2\r\n          i += 1 \r\n        }\r\n        let last_idx = 2\r\n        for (let i = 0; i < spacing_arr.length-1; i ++){\r\n          sBottomCurr[last_idx + spacing_arr[i] + 1] = 1\r\n          sBottomCurr[last_idx + spacing_arr[i] + 2] = 0\r\n          sBottomCurr[last_idx + spacing_arr[i] + 3] = -1\r\n          last_idx = last_idx + spacing_arr[i] + 3\r\n        }  \r\n        specialTop.unshift(sTopCurr)\r\n        specialBottom.unshift(sBottomCurr)    \r\n        increasing.unshift(true) \r\n      } \r\n      else { // decreasing \r\n        sBottomCurr = {0: 1, 1: -1}\r\n        diff = -1 * diff\r\n        distribute = curr - (3 * diff)\r\n        remainder = distribute % diff\r\n        spacing = Math.floor(distribute/diff)\r\n        let spacing_arr = Array(diff).fill(spacing)\r\n        for (let i = 0; i < 2; i++){\r\n          let j = i\r\n          while (j < diff && remainder > 0){\r\n            spacing_arr[j] += 1 \r\n            remainder -= 1 \r\n            j += 2 \r\n          }\r\n        }\r\n        let i = 0 \r\n        let idx = 0 \r\n        while(i < diff){\r\n          sTopCurr[idx] = 1\r\n          sTopCurr[idx+1] = 0\r\n          sTopCurr[idx+2] = -1\r\n          idx += spacing_arr[i] + 3\r\n          i += 1 \r\n        }\r\n        let last_idx = 1\r\n        for (let i = 0; i < spacing_arr.length-1; i ++){\r\n          sBottomCurr[last_idx + spacing_arr[i] + 1] = 1\r\n          sBottomCurr[last_idx + spacing_arr[i] + 2 ] = -1\r\n          last_idx = last_idx + spacing_arr[i] + 2\r\n        }  \r\n        specialTop.unshift(sTopCurr)\r\n        specialBottom.unshift(sBottomCurr)  \r\n        increasing.unshift(false)\r\n      }\r\n      console.log(\"----\")\r\n    }\r\n    \r\n    specialTop.unshift({})\r\n    specialBottom.push({})\r\n    increasing.push(false)\r\n\r\n    let sections = [];\r\n  \r\n    for (let i = 0; i < dimensions.length; i++) {\r\n      sections.push(<DrawingSection key={i} width={dimensions[i][0]} height={dimensions[i][1]} specialTop={specialTop[i]} specialBottom={specialBottom[i]} increasing={increasing[i]} formObject={formObject} sectionNum={i} />);\r\n    }\r\n  \r\n    return (\r\n      <div id=\"origamiObject\">\r\n        <div id=\"sections\" ref={objectRef}>\r\n          {sections}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\nexport default observer(OrigamiObject)","import React, {useState, useRef} from 'react';\r\nimport { TwitterPicker } from \"react-color\";\r\nimport OrigamiObject from \"../components/OrigamiObject\";\r\nimport \"./colouringPage.css\";\r\nimport Sticky from 'react-stickynode';\r\nimport ColoringForm from '../models/ColoringForm';\r\n// import { onPatch } from \"mobx-state-tree\";\r\nimport makeInspectable from \"mobx-devtools-mst\";\r\nimport { observer } from \"mobx-react\";\r\nimport logo from \"../assets/complex-logo.png\"\r\nimport {PlainLink} from '../components/Navbar/NavbarElements';\r\nimport { AiOutlineInfo } from \"react-icons/ai\";\r\nimport { FiTrash } from \"react-icons/fi\";\r\nimport { IoChevronForward, IoChevronBack } from \"react-icons/io5\";\r\nimport { exportComponentAsPNG } from \"react-component-export-image\";\r\nimport {useStores} from \"../models/RootStoreContext\"\r\nimport DelayLink from 'react-delay-link';\r\n\r\n\r\n/* stretch goals \r\n- spray painting \r\n- using lines and shapes to color \r\n- larger brush size \r\n- rotation option -- need to use smth other than index for keys, and map for default / starting position */\r\n\r\nconst Colouring = () => {\r\n  const [showInfo, setShowInfo] = useState(false);\r\n  const [showPicker, setShowPicker] = useState(false);\r\n  const [showPickerDefault, setShowPickerDefault] = useState(false);\r\n  const [colorPaletteIdx, setColorIdx] = useState(0);\r\n  const [dColorPaletteIdx, setDColorIdx] = useState(0);\r\n  const [colorPalette, setColorPalette] = useState(['#FF6900', '#FCB900', '#7BDCB5', '#00D084', '#8ED1FC', '#0693E3', '#ABB8C3', '#EB144C', '#F78DA7', '#9900EF']) \r\n  const [dColorPalette, setDColorPalette] = useState(['#FF6900', '#FCB900', '#7BDCB5', '#00D084', '#8ED1FC', '#0693E3', '#ABB8C3', '#EB144C', '#F78DA7', '#9900EF']) \r\n\r\n  const diagramRef = useRef();\r\n  const {vaseStore, coloringFormStore} = useStores();\r\n\r\n  function changeColor(color) {\r\n    coloringFormStore.setColor(color.hex);\r\n    const search = (color.hex).toString().toUpperCase()\r\n    if (!colorPalette.includes(search)){\r\n      let new_palette = colorPalette\r\n      new_palette[colorPaletteIdx] = search\r\n      setColorPalette(new_palette)\r\n      const new_idx = (colorPaletteIdx + 1) % 10\r\n      setColorIdx(new_idx)\r\n    }\r\n  }\r\n\r\n  function changeDefaultColor(color) {\r\n    const search = (color.hex).toString().toUpperCase()\r\n    coloringFormStore.setDefaultColor(search);\r\n    if (!dColorPalette.includes(search)){\r\n      let new_palette = dColorPalette\r\n      new_palette[dColorPaletteIdx] = search\r\n      setDColorPalette(new_palette)\r\n      const new_idx = (dColorPaletteIdx + 1) % 10\r\n      setDColorIdx(new_idx)\r\n    }\r\n  }\r\n\r\n  const myDimensions = coloringFormStore.getDimensions();\r\n  const absolute = coloringFormStore.maxWidth > 52 ? true : false \r\n\r\n  let myHeight = 0 \r\n  const myYMargin = 20\r\n  const px_y = 13\r\n  const px_border = 1\r\n  const marker_y = 20\r\n\r\n  for (let i = 0; i < myDimensions.length; i++){\r\n    const y = myDimensions[i][1]\r\n    myHeight += (y * (px_y + px_border)) + (1.5*myYMargin) + (2*marker_y)\r\n  }\r\n\r\n  const colorPicker = <div className = \"color-picker-object\">\r\n      <p className = \"label-big\">pixel color</p>\r\n      <div className = \"color-picker-cover\"\r\n        onClick={()=> setShowPicker(!showPicker)} \r\n        style={{background: coloringFormStore.selectedColor}}\r\n      >\r\n        <br />\r\n      </div>\r\n      <div className = \"color-picker-palette\">\r\n        {showPicker &&  <TwitterPicker colors={colorPalette} triangle=\"top-left\" color={coloringFormStore.selectedColor} onChangeComplete={changeColor} />}\r\n      </div>\r\n    </div>\r\n  \r\n  const defaultColorPicker = <div className = \"color-picker-object\">\r\n      <p className = \"label-big\">primary color</p>\r\n      <div className = \"color-picker-cover\"\r\n        onClick={() => setShowPickerDefault(!showPickerDefault)} \r\n        style={{background: coloringFormStore.defaultColor}}\r\n      >\r\n        <br />\r\n      </div>\r\n      <div className = \"color-picker-palette-d\" >\r\n        {showPickerDefault &&  <TwitterPicker colors={dColorPalette} triangle=\"top-left\" color={coloringFormStore.defaultColor} onChangeComplete={changeDefaultColor} />}\r\n      </div>\r\n    </div>\r\n\r\n  const paintByPixel = \r\n  <div className = \"mode-object\">\r\n    <div className = \"mode-button\"\r\n      onClick={() => coloringFormStore.setMode(false)}> \r\n      <p className = \"label-inside\">paint by pixel</p>\r\n    </div>\r\n  </div>\r\n\r\n  const sprayPaint = \r\n  <div className = \"mode-object\">\r\n    <div className = \"mode-button\"\r\n      onClick={() => coloringFormStore.setMode(true)}> \r\n      <p className = \"label-inside\">spray paint</p>\r\n    </div>\r\n  </div>\r\n\r\n  const logoObject = <div className = \"logo-object\">\r\n    <p className = \"label\" >3d-o</p>\r\n    <img className = \"logo\" src={logo} onClick={() => exportComponentAsPNG(diagramRef)} alt=\"\"/>\r\n    {/* <img className = \"logo\" src={logo} onClick={() => coloringFormStore.setMakeTexture(true)} alt=\"\"/> */}\r\n    {showInfo && <div className=\"info-popup\">info here</div>}\r\n  </div>  \r\n\r\n  const backButton = \r\n  <div className = \"back\">\r\n    <div className = \"nav\"\r\n      onClick={() => console.log(\"hi\")}> \r\n      <IoChevronBack size={25} style={{color: 'white'}}/>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  const nextButton = \r\n  <div className = \"next\">\r\n    <DelayLink delay={0} to=\"/result\" clickAction={nextPage} replace={false}>\r\n      <div className = \"nav\">\r\n          <IoChevronForward size={25} style={{color: 'white'}}/>\r\n      </div>\r\n    </DelayLink>\r\n  </div>\r\n\r\n  function nextPage(){\r\n    coloringFormStore.setMakeTexture(true)\r\n    coloringFormStore.exportComponent(diagramRef, 100)\r\n  }\r\n\r\n  const clear = <div className = \"logo-object\">\r\n    <p className = \"label\">clear</p>\r\n    <div className = \"icon\"\r\n      onClick={()=> coloringFormStore.clearAll()} >\r\n      <FiTrash  size={20} style={{color: 'white'}}/>\r\n      <br />\r\n    </div>\r\n  </div>\r\n\r\n  const info = <div className = \"logo-object\">\r\n  <p className = \"label\">info</p>\r\n  <div className = \"icon\"\r\n    onClick={()=> setShowInfo(!showInfo)} \r\n    >\r\n    <AiOutlineInfo size={23} style={{color: 'white'}}/>\r\n  </div>\r\n  </div>\r\n\r\n  const canvas = absolute? \r\n  <div ref = {diagramRef} className = \"canvas\">\r\n    <OrigamiObject \r\n      dimensions={myDimensions}  \r\n      formObject={coloringFormStore}\r\n    />\r\n  </div> : \r\n  <div ref = {diagramRef} className = \"canvas-relative\">\r\n    <OrigamiObject \r\n      dimensions={myDimensions}  \r\n      formObject={coloringFormStore}\r\n    />\r\n  </div>\r\n\r\n  return (\r\n    <div style={{background: \"#FFE7E5\"}}>\r\n      <Sticky innerZ={3}>\r\n        <div className = \"toolbar\">\r\n          {backButton}\r\n          {paintByPixel}\r\n          {clear}\r\n          {colorPicker}\r\n          {logoObject}\r\n          {defaultColorPicker}\r\n          {info}\r\n          {sprayPaint}\r\n          {nextButton}\r\n        </div>\r\n      </Sticky>\r\n      <div style={{background: \"#FFE7E5\", height: myHeight}}>\r\n        <div style={{position: 'relative', overflowX:'scroll', overflowY:'hidden', height: coloringFormStore.makeTexture ? 0 : myHeight, background:\"#FFE7E5\"}}>\r\n          {canvas}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default observer(Colouring);","import React, { Component } from \"react\";\r\nimport { observer } from \"mobx-react\";\r\n// import InvoiceItem from \"./InvoiceItem\";\r\nimport Navbar from \"./Navbar\"\r\nimport '../App.css'\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport Home from '../pages';\r\nimport Colouring from '../pages/colouring'\r\n// import makeInspectable from \"mobx-devtools-mst\";\r\nimport RootStore from \"../models/RootStore\";\r\nimport {RootStoreProvider} from \"../models/RootStoreContext\"\r\n\r\n\r\n// const invoice = Invoice.create({ currency: \"CAD\" });\r\nconst rootStore = RootStore.create()\r\n// const vase = VaseStore.create()\r\n\r\n// onPatch(invoice, patch => {\r\n//   console.log(patch);\r\n// });\r\n// makeInspectable(vase);\r\n\r\nclass App extends Component {\r\n  render() {\r\n    // const { invoice } = this.props;\r\n\r\n    return (\r\n      <div style={{background: \"#FFE7E5\"}}>\r\n        <RootStoreProvider value={rootStore}>\r\n          <Router>\r\n            <Switch>\r\n              <Route path='/colouring'>\r\n                <Colouring />\r\n              </Route>\r\n              <Route path='/'>\r\n                <Home/>\r\n              </Route>\r\n            </Switch>\r\n          </Router>\r\n        </RootStoreProvider>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default observer(App);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n// registerServiceWorker();\r\n"],"sourceRoot":""}